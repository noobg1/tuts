var cov_sl818wlt5=function(){var path='/Users/jeevanndc/labs/tuts/node/practicalExamples/routes/api.js',hash='dc988be956d37de47426e8b6760ea046c6013f50',global=new Function('return this')(),gcv='__coverage__',coverageData={path:'/Users/jeevanndc/labs/tuts/node/practicalExamples/routes/api.js',statementMap:{'0':{start:{line:1,column:16},end:{line:1,column:34}},'1':{start:{line:2,column:15},end:{line:2,column:31}},'2':{start:{line:3,column:13},end:{line:3,column:28}},'3':{start:{line:4,column:21},end:{line:4,column:76}},'4':{start:{line:6,column:0},end:{line:15,column:2}},'5':{start:{line:7,column:2},end:{line:14,column:4}},'6':{start:{line:9,column:4},end:{line:9,column:36}},'7':{start:{line:12,column:4},end:{line:12,column:22}},'8':{start:{line:13,column:4},end:{line:13,column:31}},'9':{start:{line:18,column:0},end:{line:28,column:2}},'10':{start:{line:19,column:20},end:{line:19,column:38}},'11':{start:{line:20,column:2},end:{line:27,column:4}},'12':{start:{line:22,column:4},end:{line:22,column:30}},'13':{start:{line:23,column:4},end:{line:23,column:70}},'14':{start:{line:26,column:4},end:{line:26,column:31}},'15':{start:{line:30,column:0},end:{line:50,column:2}},'16':{start:{line:31,column:13},end:{line:31,column:26}},'17':{start:{line:32,column:22},end:{line:32,column:38}},'18':{start:{line:33,column:17},end:{line:33,column:35}},'19':{start:{line:34,column:2},end:{line:49,column:4}},'20':{start:{line:36,column:4},end:{line:40,column:5}},'21':{start:{line:37,column:6},end:{line:39,column:7}},'22':{start:{line:41,column:4},end:{line:41,column:65}},'23':{start:{line:44,column:4},end:{line:47,column:5}},'24':{start:{line:45,column:6},end:{line:45,column:64}},'25':{start:{line:46,column:6},end:{line:46,column:12}},'26':{start:{line:48,column:4},end:{line:48,column:23}},'27':{start:{line:52,column:0},end:{line:70,column:2}},'28':{start:{line:53,column:13},end:{line:53,column:26}},'29':{start:{line:54,column:2},end:{line:69,column:4}},'30':{start:{line:56,column:4},end:{line:60,column:5}},'31':{start:{line:57,column:6},end:{line:59,column:7}},'32':{start:{line:61,column:4},end:{line:61,column:54}},'33':{start:{line:64,column:4},end:{line:67,column:5}},'34':{start:{line:65,column:6},end:{line:65,column:64}},'35':{start:{line:66,column:6},end:{line:66,column:12}},'36':{start:{line:68,column:4},end:{line:68,column:23}},'37':{start:{line:72,column:0},end:{line:72,column:23}}},fnMap:{'0':{name:'(anonymous_0)',decl:{start:{line:6,column:20},end:{line:6,column:21}},loc:{start:{line:6,column:40},end:{line:15,column:1}}},'1':{name:'(anonymous_1)',decl:{start:{line:8,column:8},end:{line:8,column:9}},loc:{start:{line:8,column:27},end:{line:10,column:3}}},'2':{name:'(anonymous_2)',decl:{start:{line:11,column:9},end:{line:11,column:10}},loc:{start:{line:11,column:26},end:{line:14,column:3}}},'3':{name:'(anonymous_3)',decl:{start:{line:18,column:28},end:{line:18,column:29}},loc:{start:{line:18,column:48},end:{line:28,column:1}}},'4':{name:'(anonymous_4)',decl:{start:{line:21,column:8},end:{line:21,column:9}},loc:{start:{line:21,column:27},end:{line:24,column:3}}},'5':{name:'(anonymous_5)',decl:{start:{line:25,column:9},end:{line:25,column:10}},loc:{start:{line:25,column:26},end:{line:27,column:3}}},'6':{name:'(anonymous_6)',decl:{start:{line:30,column:26},end:{line:30,column:27}},loc:{start:{line:30,column:46},end:{line:50,column:1}}},'7':{name:'(anonymous_7)',decl:{start:{line:35,column:8},end:{line:35,column:9}},loc:{start:{line:35,column:27},end:{line:42,column:3}}},'8':{name:'(anonymous_8)',decl:{start:{line:43,column:9},end:{line:43,column:10}},loc:{start:{line:43,column:26},end:{line:49,column:3}}},'9':{name:'(anonymous_9)',decl:{start:{line:52,column:29},end:{line:52,column:30}},loc:{start:{line:52,column:49},end:{line:70,column:1}}},'10':{name:'(anonymous_10)',decl:{start:{line:55,column:8},end:{line:55,column:9}},loc:{start:{line:55,column:27},end:{line:62,column:3}}},'11':{name:'(anonymous_11)',decl:{start:{line:63,column:9},end:{line:63,column:10}},loc:{start:{line:63,column:26},end:{line:69,column:3}}}},branchMap:{'0':{loc:{start:{line:36,column:4},end:{line:40,column:5}},type:'if',locations:[{start:{line:36,column:4},end:{line:40,column:5}},{start:{line:36,column:4},end:{line:40,column:5}}]},'1':{loc:{start:{line:44,column:4},end:{line:47,column:5}},type:'if',locations:[{start:{line:44,column:4},end:{line:47,column:5}},{start:{line:44,column:4},end:{line:47,column:5}}]},'2':{loc:{start:{line:56,column:4},end:{line:60,column:5}},type:'if',locations:[{start:{line:56,column:4},end:{line:60,column:5}},{start:{line:56,column:4},end:{line:60,column:5}}]},'3':{loc:{start:{line:64,column:4},end:{line:67,column:5}},type:'if',locations:[{start:{line:64,column:4},end:{line:67,column:5}},{start:{line:64,column:4},end:{line:67,column:5}}]}},s:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0,'22':0,'23':0,'24':0,'25':0,'26':0,'27':0,'28':0,'29':0,'30':0,'31':0,'32':0,'33':0,'34':0,'35':0,'36':0,'37':0},f:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0},b:{'0':[0,0],'1':[0,0],'2':[0,0],'3':[0,0]},_coverageSchema:'332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();const express=(++cov_sl818wlt5.s[0],require('express'));const router=(++cov_sl818wlt5.s[1],express.Router());const path=(++cov_sl818wlt5.s[2],require('path'));const dbOperations=(++cov_sl818wlt5.s[3],require(path.join(__dirname,'../todoAppDbOperations')));++cov_sl818wlt5.s[4];router.get('/read',function(req,res){++cov_sl818wlt5.f[0];++cov_sl818wlt5.s[5];dbOperations.read().then(function(results){++cov_sl818wlt5.f[1];++cov_sl818wlt5.s[6];res.status(200).send(results[0]);}).catch(function(error){++cov_sl818wlt5.f[2];++cov_sl818wlt5.s[7];console.log(error);++cov_sl818wlt5.s[8];res.status(500).send(error);});});++cov_sl818wlt5.s[9];router.post('/write/:task',function(req,res){++cov_sl818wlt5.f[3];let description=(++cov_sl818wlt5.s[10],req.params['task']);++cov_sl818wlt5.s[11];dbOperations.insert(description).then(function(results){++cov_sl818wlt5.f[4];++cov_sl818wlt5.s[12];console.log(results[0].id);++cov_sl818wlt5.s[13];res.status(200).send({id:results[0].id,message:'Task added'});}).catch(function(error){++cov_sl818wlt5.f[5];++cov_sl818wlt5.s[14];res.status(500).send(error);});});++cov_sl818wlt5.s[15];router.put('/update/:id',function(req,res){++cov_sl818wlt5.f[6];const id=(++cov_sl818wlt5.s[16],req.params.id);const description=(++cov_sl818wlt5.s[17],req.body['task']);const status=(++cov_sl818wlt5.s[18],req.body['status']);++cov_sl818wlt5.s[19];dbOperations.update(description,id,status).then(function(results){++cov_sl818wlt5.f[7];++cov_sl818wlt5.s[20];if(results[1].rowCount<1){++cov_sl818wlt5.b[0][0];++cov_sl818wlt5.s[21];throw{errCode:501,message:`id ${id} is invalid`};}else{++cov_sl818wlt5.b[0][1];}++cov_sl818wlt5.s[22];res.status(200).send(`{ Updated task for given id = ${id} }`);}).catch(function(error){++cov_sl818wlt5.f[8];++cov_sl818wlt5.s[23];if(error.errCode){++cov_sl818wlt5.b[1][0];++cov_sl818wlt5.s[24];res.status(error.errCode).send({message:error.message});++cov_sl818wlt5.s[25];return;}else{++cov_sl818wlt5.b[1][1];}++cov_sl818wlt5.s[26];res.sendStatus(500);});});++cov_sl818wlt5.s[27];router.delete('/delete/:id',function(req,res){++cov_sl818wlt5.f[9];const id=(++cov_sl818wlt5.s[28],req.params.id);++cov_sl818wlt5.s[29];dbOperations.destroy(id).then(function(results){++cov_sl818wlt5.f[10];++cov_sl818wlt5.s[30];if(results[1].rowCount<1){++cov_sl818wlt5.b[2][0];++cov_sl818wlt5.s[31];throw{errCode:501,message:`id ${id} is invalid`};}else{++cov_sl818wlt5.b[2][1];}++cov_sl818wlt5.s[32];res.status(200).send(`{ Deleted task id = ${id}}`);}).catch(function(error){++cov_sl818wlt5.f[11];++cov_sl818wlt5.s[33];if(error.errCode){++cov_sl818wlt5.b[3][0];++cov_sl818wlt5.s[34];res.status(error.errCode).send({message:error.message});++cov_sl818wlt5.s[35];return;}else{++cov_sl818wlt5.b[3][1];}++cov_sl818wlt5.s[36];res.sendStatus(500);});});++cov_sl818wlt5.s[37];module.exports=router;